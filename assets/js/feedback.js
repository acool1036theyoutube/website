fetch("https://scratchaddons-feedback.glitch.me/",{mode:"no-cors"});const version=new URL(location.href).searchParams.get("version"),setStatus=(e,t)=>{const c=document.querySelector("#feedback-status");c.textContent=e,c.hidden=!1,c.classList.remove([...c.classList].filter(e=>/alert-/.exec(e))[0]),c.classList.add(`alert-${t}`)};document.querySelector("#feedback-submit").onclick=async function(){document.querySelector("#feedback-username").readonly=!0,document.querySelector("#feedback-content").readonly=!0,document.querySelector("#feedback-submit").disabled=!0;const e={version:version,userAgent:navigator.userAgent,language:navigator.language,content:document.querySelector("#feedback-content").value,username:document.querySelector("#feedback-username").value};setStatus("Sending...","primary");try{if(!(await fetch("https://scratchaddons-feedback.glitch.me/send",{method:"POST",body:JSON.stringify(e)})).ok)throw"";setTimeout(()=>document.querySelector("#feedback-submit").disabled=!1,1e4),setStatus("Sent! Thanks for the feedback","success")}catch(t){setStatus("Error sending feedback! Try again?","danger"),document.querySelector("#feedback-submit").disabled=!1}document.querySelector("#feedback-username").readonly=!1,document.querySelector("#feedback-content").readonly=!1},window.addEventListener("load",()=>document.querySelector("textarea").focus());